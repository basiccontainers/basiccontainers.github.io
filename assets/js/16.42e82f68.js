(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{417:function(e,a,r){"use strict";r.r(a);var t=r(46),s=Object(t.a)({},(function(){var e=this,a=e.$createElement,r=e._self._c||a;return r("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[r("h1",{attrs:{id:"deploying-a-container-to-webapps"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#deploying-a-container-to-webapps"}},[e._v("#")]),e._v(" Deploying a Container to Webapps")]),e._v(" "),r("h1",{attrs:{id:"create-a-resource-group"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#create-a-resource-group"}},[e._v("#")]),e._v(" Create a resource group.")]),e._v(" "),r("h1",{attrs:{id:"create-a-resource-group-2"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#create-a-resource-group-2"}},[e._v("#")]),e._v(" Create a resource group.")]),e._v(" "),r("p",[e._v('resourceGroup="ivanresourcegroup"\nappserviceplan="ivanappservice"\nappname="myapplicationivans" ## This should be unique\naz group create --location westeurope --name $resourceGroup')]),e._v(" "),r("h2",{attrs:{id:"create-app-service-plan"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#create-app-service-plan"}},[e._v("#")]),e._v(" Create App Service plan")]),e._v(" "),r("p",[e._v("az appservice plan create --name $appserviceplan --resource-group $resourceGroup --is-linux")]),e._v(" "),r("h2",{attrs:{id:"create-application-based-on-container"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#create-application-based-on-container"}},[e._v("#")]),e._v(" Create application based on container")]),e._v(" "),r("p",[e._v("To change an existing custom container app from the current Docker image to a new image, use the following command:")]),e._v(" "),r("p",[e._v("az webapp create --resource-group $resourceGroup --plan $appserviceplan  --name $appname --deployment-container-image-name mcr.microsoft.com/azuredocs/azure-vote-front:v1")]),e._v(" "),r("h2",{attrs:{id:"change-port"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#change-port"}},[e._v("#")]),e._v(" Change port")]),e._v(" "),r("p",[e._v("By default, App Service assumes your custom container is listening on port 80. If your container listens to a different port, set the WEBSITES_PORT app setting in your App Service app. You can set it via the Cloud Shell. In Bash:\naz webapp config appsettings set --resource-group $resourceGroup --name $appname --settings WEBSITES_PORT=8080")]),e._v(" "),r("p",[e._v("##.azurecr.io/appsvc-tutorial-custom-image:latest")]),e._v(" "),r("h2",{attrs:{id:"see-https-docs-microsoft-com-en-us-cli-azure-webapp-config-container-view-azure-cli-latest"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#see-https-docs-microsoft-com-en-us-cli-azure-webapp-config-container-view-azure-cli-latest"}},[e._v("#")]),e._v(" see https://docs.microsoft.com/en-us/cli/azure/webapp/config/container?view=azure-cli-latest")]),e._v(" "),r("h2",{attrs:{id:"https-docs-microsoft-com-en-us-azure-app-service-tutorial-custom-container-pivots-container-linux"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#https-docs-microsoft-com-en-us-azure-app-service-tutorial-custom-container-pivots-container-linux"}},[e._v("#")]),e._v(" https://docs.microsoft.com/en-us/azure/app-service/tutorial-custom-container?pivots=container-linux")]),e._v(" "),r("h3",{attrs:{id:"staging"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#staging"}},[e._v("#")]),e._v(" Staging")]),e._v(" "),r("p",[e._v("https://docs.microsoft.com/en-us/azure/app-service/scripts/cli-deploy-staging-environment?toc=/cli/azure/toc.json")]),e._v(" "),r("h2",{attrs:{id:"deploy-container-to-service"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#deploy-container-to-service"}},[e._v("#")]),e._v(" Deploy container to service")]),e._v(" "),r("p",[e._v("az webapp config container set --docker-custom-image-name MyDockerCustomImage --docker-registry-server-password StrongPassword --docker-registry-server-url https://{azure-container-registry-name}.azurecr.io --docker-registry-server-user DockerUserId --name MyWebApp --resource-group MyResourceGroup")]),e._v(" "),r("h1",{attrs:{id:"customize-and-build-image-using-acr"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#customize-and-build-image-using-acr"}},[e._v("#")]),e._v(" Customize and build image using ACR")]),e._v(" "),r("p",[e._v("Download docker source. modify")]),e._v(" "),r("h1",{attrs:{id:""}},[r("a",{staticClass:"header-anchor",attrs:{href:"#"}},[e._v("#")])]),e._v(" "),r("h1",{attrs:{id:"-2"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#-2"}},[e._v("#")])])])}),[],!1,null,null,null);a.default=s.exports}}]);